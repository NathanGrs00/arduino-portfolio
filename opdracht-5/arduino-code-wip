#include <Servo.h>

Servo MyServo;
int position = 0;
int btnPin1 = 11;
int btnPin2 = 10;

int timeSecondsFirst = 3.0;
int timeSecondsSecond = 0.5;

int delayMsFirst = 0;
int delayMsSecond = 0;

void setup(){
  pinMode(btnPin1, INPUT);
  pinMode(btnPin2, INPUT);
  MyServo.attach(3);

  delayMsFirst = calculateDelay(timeSecondsFirst);
  delayMsSecond = calculateDelay(timeSecondsSecond);
}

void loop(){
  int btn1 = digitalRead(btnPin1);
  int btn2 = digitalRead(btnPin2);

  if (btn1 == LOW && btn2 == LOW) {
  	moveServo(delayMsFirst, delayMsSecond, true);
  }
  else if (btn1 == LOW) {
    moveServo(delayMsFirst, delayMsFirst, false);
  }
  else if (btn2 == LOW) {
    moveServo(delayMsSecond, delayMsSecond, false);
  }
}

void moveServo(int delayTo, int delayBack, bool isBoth){
  for (position = 0; position <= 120; position += 1){
    MyServo.write(position);
    delay(delayTo);
  }
  if (isBoth) {
    delay(5000);
  }
  for (position = 120; position >= 0; position -= 1){
    MyServo.write(position);
    delay(delayBack);
  }
}

int calculateDelay(float seconds) {
  return (seconds * 1000) / 120;
}